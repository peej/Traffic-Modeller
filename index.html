<!DOCTYPE html>
<html>

    <head>
        <title>Diagram test</title>
    </head>

    <body>
        <canvas width="500" height="500"></canvas>
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="traffic.js"></script>
        <script>

/*
var start = Traffic.StartNode.create({ x: 0, y: 0, frequency: 4, name: "Start" });
var middle = Traffic.Node.create({ x: 50, y: 50, name: "Middle" });
var end = Traffic.EndNode.create({ x: 50, y: 100, name: "End" });

var startToMiddle = Traffic.Path.create(start, middle);
var middleToEnd = Traffic.Path.create(middle, end);

$(function () {
    Traffic.run($("canvas"), [
        start
    ]);
});
//*/

/*
var start1 = Traffic.StartNode.create({ x: 0, y: 0, frequency: 4, name: "Left start" });
var start2 = Traffic.StartNode.create({ x: 100, y: 0, frequency: 10, name: "Right start" });
var crossing = Traffic.CrossingNode.create({ x: 50, y: 50, name: "Crossing node" });
var end1 = Traffic.EndNode.create({ x: 100, y: 100, name: "Right exit" });
var end2 = Traffic.EndNode.create({ x: 0, y: 100, name: "Left exit" });

var start1toCrossing = Traffic.Path.create({ start: start1, end: crossing, name: "start1toCrossing" });
var start2toCrossing = Traffic.Path.create({ start: start2, end: crossing, name: "start2toCrossing" });
var crossingToEnd1 = Traffic.Path.create({ start: crossing, end: end1, name: "crossingToEnd1" });
var crossingToEnd2 = Traffic.Path.create({ start: crossing, end: end2, name: "crossingToEnd2" });

$(function () {
    Traffic.run($("canvas"), [
        start1, start2
    ]);
});
//*/

//*
var controller = Traffic.Controller.create({
    stages: 2
});

var start = Traffic.StartNode.create({ x: 100, y: 0, frequency: 4, name: "Start" });
var light = Traffic.ControlledNode.create({
    x: 100, y: 200,
    controller: controller,
    stage: 0,
    name: "Traffic light"
});
var end = Traffic.EndNode.create({ x: 100, y: 400, name: "End" });

var startToLight = Traffic.Path.create({ start: start, end: light, name: "Start to Light" });
var lightToEnd = Traffic.Path.create({ start: light, end: end, name: "Light to End" });

$(function () {
    Traffic.verbose = true;
    Traffic.run($("canvas"), [start], [controller]);
});
//*/

        </script>

    </body>

</html>